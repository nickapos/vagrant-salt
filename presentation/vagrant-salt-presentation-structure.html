<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Nick Apostolakis" />
  <title>Infrastructure automation with python</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
    href="http://www.w3.org/Talks/Tools/Slidy2/styles/slidy.css" />
  <script src="http://www.w3.org/Talks/Tools/Slidy2/scripts/slidy.js"
    charset="utf-8" type="text/javascript"></script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Infrastructure automation with python</h1>
  <p class="author">
Nick Apostolakis
  </p>
  <p class="date">03 of April 2015</p>
</div>
<div id="technology-recap" class="slide section level1">
<h1>Technology recap</h1>
<h2 id="vagrant"><em><a href="https://www.vagrantup.com/">Vagrant</a></em></h2>
<ul class="incremental">
<li>a tool for building complete virtualized environments.</li>
<li>supports lots of different virtualization backends
<ul class="incremental">
<li>Virtualbox (the default)</li>
<li>VmWare</li>
</ul></li>
<li>supports lots of different provisioning backends:
<ul class="incremental">
<li>shell</li>
<li>chef</li>
<li>salt</li>
<li>ansible</li>
<li>powershell</li>
</ul></li>
<li>platform independent
<ul class="incremental">
<li>windows</li>
<li>linux</li>
</ul></li>
</ul>
<h2 id="saltstack"><em><a href="http://saltstack.com/">Saltstack</a></em></h2>
<ul class="incremental">
<li>systems management tool. can be usef for:
<ul class="incremental">
<li>configuration management</li>
<li>systems orchestration</li>
</ul></li>
<li>written in python</li>
<li>supports all operation modes and more:
<ul class="incremental">
<li>masterless mode</li>
<li>master/minions mode</li>
<li>one off custom command execution either to whole minions environment, or to isolated minions (ansible, capistrano)</li>
</ul></li>
<li>uses extensively YAML</li>
<li>supports templating</li>
</ul>
</div>
<div id="chef-salt-1-1-comparison" class="slide section level1">
<h1>Chef salt 1-1 comparison</h1>
<ul class="incremental">
<li>chef recipe -&gt; salt state</li>
<li>chef resource -&gt; salt state module</li>
<li>chef attributes/databags -&gt; salt pillars</li>
<li>chef cookbook -&gt; salt formula</li>
<li>chef uses ruby DSL -&gt; salt uses YAML and Jinja</li>
<li>chef can be extended with ruby -&gt; salt can be extended with python</li>
</ul>
</div>
<div id="chef-salt-architectural-differences" class="slide section level1">
<h1>Chef salt architectural differences</h1>
<ul class="incremental">
<li>Chef enforces a specific workflow. The cookbooks have a strictly defined structure, and the relationship of cookbooks is also strictly defined</li>
<li>Salt does not enforce a specific workflow. Its formulas structure does not follow a specific pattern, but they can be structured in a loosely defined tree.</li>
</ul>
</div>
<div id="vagrant---salt-integration" class="slide section level1">
<h1><em><a href="https://github.com/nickapos/vagrant-salt">Vagrant - salt integration</a></em></h1>
<pre><code>box_type  = &quot;chef/centos-6.6&quot;
Vagrant.configure(&quot;2&quot;) do |config|
  config.vm.box = &quot;#{box_type}&quot;
  config.vm.provider &quot;virtualbox&quot; do |v|
    v.memory = 2048
    v.cpus = 1
  end
  # For masterless, mount your salt file root
  config.vm.synced_folder &quot;salt/roots/&quot;, &quot;/srv/salt/&quot;
  ## Use all the defaults:
  config.vm.provision :salt do |salt|
    salt.minion_config = &quot;salt/minion&quot;
    salt.run_highstate = true

  end
end</code></pre>
</div>
<div id="masterless-mode" class="slide section level1">
<h1>Masterless mode</h1>
<p>is defined by a:</p>
<ul class="incremental">
<li>&quot;salt/minion&quot; file with contents
<ul class="incremental">
<li>file_client: local</li>
</ul></li>
<li>it defines the filesystem backend used by salt.</li>
<li>other backends are:
<ul class="incremental">
<li>salt server backend</li>
<li>gitfs backend</li>
</ul></li>
<li>gitfs backend is the chosen method for community formula distribution</li>
<li>is unsupported by masterless mode</li>
<li>setting highstate to true, is the salt way to start converging the minion</li>
</ul>
</div>
<div id="questions" class="slide section level1">
<h1>Questions?</h1>
</div>
</body>
</html>
